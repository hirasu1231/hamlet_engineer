(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{451:function(t,a,e){t.exports=e.p+"assets/img/CUDA_tf.233201bd.png"},452:function(t,a,e){t.exports=e.p+"assets/img/cuda_nvidia.759fc659.png"},453:function(t,a,e){t.exports=e.p+"assets/img/nvidia_dl.baebdaea.png"},505:function(t,a,e){"use strict";e.r(a);var s=e(2),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"cudaとtensorflow-pytorchのversion対応について"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cudaとtensorflow-pytorchのversion対応について"}},[t._v("#")]),t._v(" CUDAとTensorFlow，PyTorchのversion対応について")]),t._v(" "),s("p",[t._v("PythonでAI系をやっていると，CUDA・TensorFlow・PyTorchのversionの違いでつまずくことが結構あります．"),s("br"),t._v("\n本稿では，CUDAとTensorFlow，PyTorchのver対応について記述します．")]),t._v(" "),s("h2",{attrs:{id:"tensorflowとの対応表について"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tensorflowとの対応表について"}},[t._v("#")]),t._v(" TensorFlowとの対応表について")]),t._v(" "),s("p",[s("img",{attrs:{src:e(451),alt:""}})]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# GPUが使用できるかを確認\nimport TensorFlow as tf\ndevice_name = tf.test.gpu_device_name()\nif device_name != '/device:GPU:0':\n  print('GPU device not found')\nprint('Found GPU at: {}'.format(device_name))\n")])])]),s("h2",{attrs:{id:"pytorchとの対応について"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pytorchとの対応について"}},[t._v("#")]),t._v(" PyTorchとの対応について")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://PyTorch.org/get-started/previous-versions/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PyTorchとCUDAの対応について"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# GPUが使用できるかを確認\nimport torch\nprint(torch.CUDA.is_available())\n")])])]),s("h2",{attrs:{id:"cuda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cuda"}},[t._v("#")]),t._v(" CUDA")]),t._v(" "),s("p",[t._v("CUDA ToolkitとNVIDIAドライバの各バージョンについて，以下の画像に示します．\n"),s("img",{attrs:{src:e(452),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"前準備"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前準備"}},[t._v("#")]),t._v(" 前準備")]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo apt update\nsudo apt-get update\n")])])]),s("h3",{attrs:{id:"nvidiaドライバのインストール"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nvidiaドライバのインストール"}},[t._v("#")]),t._v(" Nvidiaドライバのインストール")]),t._v(" "),s("p",[t._v("Nvidiaドライバをインストールします．\n該当ドライバのバージョンのインストールがうまくいかない場合は、バージョンを少しずつ下げてみるのがお勧めです．")]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo apt update\n# インストール可能なドライバのバージョンを確認\napt-cache search 'nvidia-[0-9]+$'\n# ドライバのインストール(ここではnvidia-361)\nsudo apt-get install nvidia-361\n")])])]),s("p",[t._v("また，Nvidiaの公式サイトからもドライバをインストールできます．\n"),s("a",{attrs:{href:"https://www.nvidia.co.jp/Download/index.aspx?lang=jp#",target:"_blank",rel:"noopener noreferrer"}},[t._v("NVIDIAドライバダウンロード"),s("OutboundLink")],1),s("br"),t._v(" "),s("img",{attrs:{src:e(453),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"cudaのインストール"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cudaのインストール"}},[t._v("#")]),t._v(" CUDAのインストール")]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sudo apt-get update\nsudo apt-get install build-essential\nsudo apt-get install CUDA-10-0\n")])])]),s("h3",{attrs:{id:"実行環境の確認"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#実行環境の確認"}},[t._v("#")]),t._v(" 実行環境の確認")]),t._v(" "),s("p",[t._v("以下のコードでCUDAのversionを確認します．"),s("br"),t._v(" "),s("code",[t._v("watch -n 0.5")]),t._v("はコードを回している間に，GPUの使用状況を見る場合にも便利です．")]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("nvcc --version\n")])])]),s("p",[t._v("以下のコードでgpuの使用状況を確認．")]),t._v(" "),s("div",{staticClass:"language-init extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#0.5秒毎にnvidia-smiの情報を更新して表示する\nwatch -n 0.5 nvidia-smi\n")])])]),s("h2",{attrs:{id:"参考サイト"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考サイト"}},[t._v("#")]),t._v(" 参考サイト")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://katsuwosashimi.com/archives/742/how-to-choose-CUDA-version-PyTorch/",target:"_blank",rel:"noopener noreferrer"}},[t._v("PyTorchインストール時のCUDAバージョンの選び方"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://qiita.com/chin_self_driving_car/items/f00af2dbd022b65c9068",target:"_blank",rel:"noopener noreferrer"}},[t._v("TensorFlow GPU, CUDA, CuDNNのバージョン早見表"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=r.exports}}]);